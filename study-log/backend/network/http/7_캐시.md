# 사용 이득
- 불필요한 데이터 전송량 개선
- 원 서버에 대한 요청 수 개선
- 거리로 인한 지연 개선

# 적중과 부적중
- 재검사
  - GET If-Modified-Since
  - 변경되지 않으면 304 Not Modified 응답, 변경되거나 삭제되었으면 200/400대 응답
- 적중률
  - 엔티티, 바이트 단위
  - 전용캐시, 공용캐시


# 캐시망, 콘텐츠 라우팅, 피어링
- 복잡한 캐시 토폴로지, 동적 캐시 커뮤니케이션 결정
  - URL에 근거하여, 부모캐시와 원 서버 중 하나 선택
  - URL에 근거하여, 특정 부모캐시 선택
    - 로컬에 캐시된 거 없는지, 다른 캐시들이 캐시된 콘텐츠에 부분적 접근 허용하되, 인터넷 트랜짓(트래픽이 다른 네트워크로 이동하는 것)은 금지
- 캐시 처리 단계
  - 요청 받기
  - 파싱(URL, 헤더)
  - 검색(로컬 복사본 검사, 없으면 받아옴)
  - 신선도 검사(신선하지 않으면 변경여부 확인)
    - Cache-Control:max-age, Expires
    - If-Modified-Since:<date> + Last-Modified
    - If-None-Match:<tags> 마지막 변경 날짜 대신 특별 태그값이 다를 때 요청, 시간이 오래되어 다시 쓰여지지만 변경 사항 없는 경우 용이, 버전으로 변경있을 때만 가져옴
  - 발송
  - 로깅

 
# 캐시 제어
- 문서 만료 전까지 얼마나 오래 캐싱할 것인가
- 서버 처리 우선순위
  - Cache-Control: no-store
    - 응답의 사본 만드는 것 금지
    - 정확히는 로컬에 저장은 되는데 서버에 재검사 요청 안하고는 클라이언트에 제공 불가 
  - Cache-Control: no-cache
  - Cache-Control: must-revalidate
    - 최초 1회 재검사 필요 
  - Cache-Control: max-age
    - 서버에서 응답한 이후 seconds
    - s-maxage는 공용 캐시에만 적용 
  - Expires
    - deprecated된 헤더, 실제 만료 일자 지정이기 때문
  - 아무 정보 안 줌, 휴리스틱으로 처리
    - 최근 변경일 통계기반 LM인자 알고리즘, 기본 신선도 유지기간 설정 등

   
# 수명 및 신선도 알고리즘
- 충분히 신선한가 = 나이 < 수명
- 
