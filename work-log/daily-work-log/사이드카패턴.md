# 인증에 사이드카 적용
- 공유 볼륨으로 인증서 공유
- 토큰 캐싱적용해서 애플리케이션 실제 요청량보다 훨씬 원래 서버 부하적음

  
# CronJob 메인 컨테이너 종료시 사이드카는 같이 종료 안 되는 문제
방법1) concurrencyPolicy: Replace </br>
- 종료되진 않지만 job이 새로 실행되면 교체되어 쌓이진 않음(현재 적용) </br>

방법2) app containter가 종료 파일 생성시 각 사이드카 셀프 종료 </br>
- 이미지 내 커맨드 존재해서, 파일 존재여부 polling하도록 커맨드 오버라이딩/arg 전달시 이미지 정상동작 안 됨(실패) </br>

방법3) 별도 모니터링 컨테이너에서 app containter가 종료 파일 생성시 k8s sa로 k8s API 호출해서 pod 삭제시키기 </br>
- 아직 안 해봄 </br>

방법4) ??? </br>


# SIGTERM(Signal Termination)
- 강제 종료(SIGKILL)와는 달리 프로세스가 자신을 종료할 수 있도록 시간을 주기 때문에 안전한 종료를 위한 신호로 사용
  - 데이터베이스 서버가 SIGTERM을 받으면, 열려 있는 연결을 정리하고, 트랜잭션을 마무리한 후 종료하는 식으로 작업을 처리
- Pod 안의 하나의 컨테이너에서 SIGTERM을 보내도 다른 컨테이너는 안 죽음
- Pod 전체가 종료되는 상황에서는 모든 컨테이너가 종료
  - kubectl delete pod 명령을 실행하면, 모든 컨테이너에 SIGTERM이 전달되고, 그 후 모든 컨테이너가 종료
